<div class="notification-wrapper position-relative">
    <button class="btn btn-light position-relative" (click)="toggleDropdown()">
        <i class="bi bi-bell"></i>
        @if (notifications.length > 0) {

        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{ unreadCount }}
        </span>
        }
    </button>

    <!-- Dropdown -->
    @if (showDropdown) {
    <div class="notification-dropdown bg-white shadow rounded p-2">
        @for (note of notifications; track $index; let i = $index) {
        <div class="notification-item d-flex justify-content-between align-items-start">
            <div>
                <p class="mb-0">{{ note.message }}</p>
                <small class="text-muted">{{ note.createdAt | date:'short' }}</small>
            </div>
            <button class="btn btn-sm btn-danger ms-2" (click)="MarkRead(note.id)">
                <i class="bi bi-check2-all"></i>
             </button>
            <button class="btn btn-sm btn-danger ms-2" (click)="delete(note.id)">
                <i class="bi bi-trash"></i>
            </button>
        </div>
        }

        @if (notifications.length === 0) {

        <div class="text-end text-muted">لا يوجد رسائل</div>
        }
    </div>
    }

</div>