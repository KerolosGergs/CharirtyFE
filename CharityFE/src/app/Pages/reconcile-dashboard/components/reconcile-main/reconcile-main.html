<div class="container mt-4" dir="rtl">
  <div class="search-bar d-flex mb-3">
    <input
      type="text"
      class="form-control me-2"
      [(ngModel)]="searchText"
      placeholder="ابحث بالاسم أو البريد الإلكتروني"
    />
  </div>

  <div class="complaints-list">
    <div *ngIf="filteredRequests.length > 0; else noResults">
      @for (request of filteredRequests; track $index) {
        <div class="card mb-2">
        <div class="card-body d-flex align-items-center justify-content-between flex-wrap">
          <div class="info d-flex align-items-center flex-grow-1 gap-3 flex-wrap">
            <h5 class="mb-0">{{ request.name }}</h5>
            <p class="mb-0 text-muted">{{ request.email }}</p>
            <small class="text-muted">تاريخ الانضمام: {{ request.createdAt | date:'short' }}</small>
          </div>
          <div class="actions">
            <button
              class="btn btn-sm btn-danger"
              (click)="deleteRequest(request); $event.stopPropagation()"
            >
              🗑️ حذف
            </button>
          </div>
        </div>
      </div>
      }
    </div>

    <ng-template #noResults>
      <div class="alert alert-info">لا توجد طلبات مطابقة.</div>
    </ng-template>
  </div>
</div>
