<!-- Navigation Section -->
 @defer 
  {
    <nav class="navigation-section">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <ul class="nav nav-pills justify-content-center py-2 flex-wrap">
          @for (item of navigationItems; track $index; let i = $index) {
          <li class="nav-item dropdown position-relative mx-2" [class.show]="item === activeItem"
            (mouseenter)="activeItem = item" (mouseleave)="activeItem = null">
            <a class="nav-link text-white " [class.dropdown-toggle]="item.subLibels!.length > 0"
              [routerLink]="item.href" role="button" [attr.aria-expanded]="item === activeItem"
              (click)="onNavigationClick(item)">
              {{ item.label }}
            </a>

            <!-- Sub-menu -->
            @if (item.subLibels!.length > 0) {
            <ul class="dropdown-menu custom-dropdown mt-1" [class.show]="item === activeItem">
              @for (subItem of item.subLibels; track $index) {
              <li>
                @if (subItem.subTitle === 'الخدمات الألكترونية') {
                  <a class="dropdown-item d-flex align-items-center gap-2" href="/http://109.166.90.247/Login.aspx" target="_blank" rel="noopener">
                  <i class="bi bi-box-arrow-in-left"></i> <!-- You can change this to other icons -->
                  {{ subItem.subTitle }}
                </a>
                }@else {
                   <a class="dropdown-item d-flex align-items-center gap-2" [href]="subItem.subLink">
                  <i class="bi bi-box-arrow-in-left"></i> <!-- You can change this to other icons -->
                  {{ subItem.subTitle }}
                </a>
                }
               
              </li>
              }
            </ul>
            }

          </li>
          }
        </ul>
      </div>
    </div>
  </div>
</nav>
  }

