<div class="container add-video mt-5">
  <h2 class="mb-4">رفع فيديو جديد</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- عنوان الفيديو -->
    <div class="form-group mb-3">
      <label for="title">عنوان الفيديو</label>
      <input id="title" type="text" class="form-control" formControlName="title" placeholder="أدخل عنوان الفيديو">
    </div>

    <!-- وصف الفيديو -->
    <div class="form-group mb-2">
      <label for="description">الوصف</label>
      <textarea id="description" class="form-control" rows="3" formControlName="description" maxlength="150" placeholder="اكتب وصف مختصر..."></textarea>
      <small class="form-text text-muted">{{ form.value.description?.length || 0 }}/150</small>
    </div>

    <!-- تحميل من الملفات -->
    <div class="form-group mb-4">
      <label>تحميل من الملفات</label>
      <input type="file" id="videoFile" accept="video/*" hidden (change)="handleFileInput($event)">
      <div 
        class="file-drop-area text-center p-4"
        (dragover)="onDragOver($event)"
        (drop)="onFileDrop($event)"
        (click)="triggerFileBrowse()"
        style="border: 2px dashed #ccc; cursor: pointer;"
      >
        <p>اسحب ملف الفيديو هنا</p>
        <p>أو</p>
        <button type="button" class="btn btn-outline-secondary">تصفح الملفات</button>
      </div>
      <p class="mt-2 text-muted">الملف المحدد: {{ selectedFile?.name || 'لا يوجد ملف محدد' }}</p>
    </div>

    <!-- رابط خارجي -->
    <div class="form-group mb-4">
      <label for="videoLink">أو من رابط خارجي</label>
      <div class="d-flex flex-column flex-sm-row gap-2">
        <input id="videoLink" type="text" class="form-control" formControlName="videoLink" placeholder="أدخل رابط الفيديو">
        <button type="submit" class="btn btn-outline-primary" [disabled]="isSubmitting">تحميل</button>
      </div>
    </div>

    <!-- أزرار الإجراء -->
    <div class="d-flex justify-content-end gap-2 ">
      <button type="submit" class="btn btn-success px-4" [disabled]="isSubmitting">نشر</button>
      <button type="button" class="btn btn-outline-danger px-4" routerLink="/dashboard/dashboard-awareness">إلغاء</button>
    </div>
  </form>
</div>
